{"is_source_file": true, "format": "Python", "description": "This file defines SQLAlchemy ORM models for users, plans, and user-plan relationships, along with password hashing and verification helpers.", "external_files": ["sqlalchemy", "passlib"], "external_methods": ["pwd_context.verify()", "pwd_context.hash()"], "published": ["User", "Plan", "UserPlan"], "classes": [{"name": "User", "description": "Represents a user with fields for username, email, hashed password, and a relationship to a plan assignment. Includes methods for verifying and hashing passwords."}, {"name": "Plan", "description": "Represents an available plan with fields for name and description, and a relationship to user plans."}, {"name": "UserPlan", "description": "Represents the association between users and plans, with foreign keys and unique constraints."}], "methods": [{"name": "bool verify_password(self, password: str)", "description": "Verifies a plain text password against the stored hashed password.", "scope": "User", "scopeKind": "class"}, {"name": "str get_password_hash(cls, password: str)", "description": "Generates a hashed password suitable for storage.", "scope": "User", "scopeKind": "class"}], "calls": ["pwd_context.verify()", "pwd_context.hash()"], "search-terms": ["SQLAlchemy models", "password hashing", "UserPlan relationship", "bcrypt", "ORM models"], "state": 2, "file_id": 14, "knowledge_revision": 35, "git_revision": "c4f7de4a97f82307ba134b517f950af2f33e249d", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Plan", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^class Plan(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^class User(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserPlan", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^class UserPlan(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    __table_args__ = (UniqueConstraint('user_id'),)$/", "file": true, "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"plans\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Plan", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"user_plans\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    description = Column(String, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Plan", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    email = Column(String, unique=True, index=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "get_password_hash", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    def get_password_hash(cls, password: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(cls, password: str)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "hashed_password", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    hashed_password = Column(String, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Plan", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    name = Column(String, unique=True, index=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Plan", "scopeKind": "class"}, {"_type": "tag", "name": "plan", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    plan = relationship(\"Plan\", back_populates=\"users\")$/", "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "plan_assignment", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    plan_assignment = relationship(\"UserPlan\", back_populates=\"user\", uselist=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "plan_id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    plan_id = Column(Integer, ForeignKey(\"plans.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "pwd_context", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    user = relationship(\"User\", back_populates=\"plan_assignment\")$/", "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False, unique=True)$/", "language": "Python", "kind": "variable", "scope": "UserPlan", "scopeKind": "class"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    username = Column(String, unique=True, index=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    users = relationship(\"UserPlan\", back_populates=\"plan\")$/", "language": "Python", "kind": "variable", "scope": "Plan", "scopeKind": "class"}, {"_type": "tag", "name": "verify_password", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/models.py", "pattern": "/^    def verify_password(self, password: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, password: str)", "scope": "User", "scopeKind": "class"}], "hash": "3ac72d797f7743ea114c04295f8588a4", "format-version": 4, "code-base-name": "plan_based_api_backend", "filename": "plan_based_api_backend/src/api/models.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__table_args__ = (UniqueConstraint('user_id'),)", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"plans\"", "scope": "Plan", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"user_plans\"", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "description = Column(String, nullable=True)", "scope": "Plan", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String, unique=True, index=True, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "hashed_password = Column(String, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True)", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "Plan", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String, unique=True, index=True, nullable=False)", "scope": "Plan", "scopeKind": "class", "description": "unavailable"}, {"name": "plan = relationship(\"Plan\", back_populates=\"users\")", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "plan_assignment = relationship(\"UserPlan\", back_populates=\"user\", uselist=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "plan_id = Column(Integer, ForeignKey(\"plans.id\"), nullable=False)", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "user = relationship(\"User\", back_populates=\"plan_assignment\")", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False, unique=True)", "scope": "UserPlan", "scopeKind": "class", "description": "unavailable"}, {"name": "username = Column(String, unique=True, index=True, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "users = relationship(\"UserPlan\", back_populates=\"plan\")", "scope": "Plan", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": "c4f7de4a97f82307ba134b517f950af2f33e249d"}]}