{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI API routes related to user plan resource management, including endpoints to retrieve a user's plan by username or ID, and a demo resource endpoint that returns different messages based on hardcoded user data.", "external_files": ["fastapi", "fastapi.responses", "pydantic", "typing"], "external_methods": ["fastapi.APIRouter", "fastapi.Query", "fastapi.HTTPException", "fastapi.responses.JSONResponse", "pydantic.BaseModel", "pydantic.Field"], "published": ["router", "get_user_plan", "resource"], "classes": [{"name": "UserPlanResponse", "description": "Pydantic model representing the response structure for user plan information."}], "methods": [{"name": "get_user_plan( username: Optional[str] = Query(None, description=\"Username of user\"), user_id: Optional[int] = Query(None, description=\"User ID\") )", "description": "Endpoint to retrieve a user's plan details using username or user ID, with proper HTTP exception handling when user not found.", "scope": "", "scopeKind": ""}, {"name": "resource(username: str = Query(..., description=\"Username to check\"))", "description": "A demo endpoint returning plan-specific messages based on a provided username, using a hardcoded data mapping.", "scope": "", "scopeKind": ""}], "calls": ["USERS_BY_USERNAME.get()", "USERS_BY_ID.get()", "HTTPException", "UserPlanResponse()"], "search-terms": ["FastAPI resource router", "User plan retrieval", "hardcoded user data", "API endpoint get_user_plan", "demo resource endpoint"], "state": 2, "file_id": 12, "knowledge_revision": 34, "git_revision": "c4f7de4a97f82307ba134b517f950af2f33e249d", "revision_history": [{"25": ""}, {"33": "c40a07bdfe9b0a037111fbc54f9cb9f1014e1094"}, {"34": "c4f7de4a97f82307ba134b517f950af2f33e249d"}], "ctags": [{"_type": "tag", "name": "HARDCODED_USERS", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^HARDCODED_USERS = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "USERS_BY_ID", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^USERS_BY_ID = {u[\"id\"]: u for u in HARDCODED_USERS}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "USERS_BY_USERNAME", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^USERS_BY_USERNAME = {u[\"username\"]: u for u in HARDCODED_USERS}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "UserPlanResponse", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^class UserPlanResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "get_user_plan", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^def get_user_plan($/", "language": "Python", "kind": "function", "signature": "( username: Optional[str] = Query(None, description=\"Username of user\"), user_id: Optional[int] = Query(None, description=\"User ID\") )"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^    id: int = Field(..., description=\"User ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "UserPlanResponse", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^    name: str = Field(..., description=\"User's display name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserPlanResponse", "scopeKind": "class"}, {"_type": "tag", "name": "plan", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^    plan: str = Field(..., description=\"User's assigned plan (Free, Pro, Enterprise)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserPlanResponse", "scopeKind": "class"}, {"_type": "tag", "name": "resource", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^def resource(username: str = Query(..., description=\"Username to check\")):$/", "language": "Python", "kind": "function", "signature": "(username: str = Query(..., description=\"Username to check\"))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^router = APIRouter($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/user-plan-based-api-management-95986-95995/plan_based_api_backend/src/api/routers_resource.py", "pattern": "/^    username: str = Field(..., description=\"Username\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserPlanResponse", "scopeKind": "class"}], "hash": "2856366fe7aaf6cb786239617975c258", "format-version": 4, "code-base-name": "plan_based_api_backend", "filename": "plan_based_api_backend/src/api/routers_resource.py", "fields": [{"name": "HARDCODED_USERS = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "USERS_BY_ID = {u[\"id\"]: u for u in HARDCODED_USERS}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "USERS_BY_USERNAME = {u[\"username\"]: u for u in HARDCODED_USERS}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int id", "scope": "UserPlanResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "UserPlanResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str plan", "scope": "UserPlanResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str username", "scope": "UserPlanResponse", "scopeKind": "class", "description": "unavailable"}]}